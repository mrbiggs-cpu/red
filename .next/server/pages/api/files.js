"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/files";
exports.ids = ["pages/api/files"];
exports.modules = {

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = require("axios");

/***/ }),

/***/ "formidable":
/*!*****************************!*\
  !*** external "formidable" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("formidable");

/***/ }),

/***/ "../../../api-utils/node":
/*!*****************************************************!*\
  !*** external "next/dist/server/api-utils/node.js" ***!
  \*****************************************************/
/***/ ((module) => {

module.exports = require("next/dist/server/api-utils/node.js");

/***/ }),

/***/ "../route-module?407b":
/*!************************************************************************!*\
  !*** external "next/dist/server/future/route-modules/route-module.js" ***!
  \************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/server/future/route-modules/route-module.js");

/***/ }),

/***/ "uuid":
/*!***********************!*\
  !*** external "uuid" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("uuid");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/helpers.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/helpers.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("/**\n * Hoists a name from a module or promised module.\n *\n * @param module the module to hoist the name from\n * @param name the name to hoist\n * @returns the value on the module (or promised module)\n */ \nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nObject.defineProperty(exports, \"hoist\", ({\n    enumerable: true,\n    get: function() {\n        return hoist;\n    }\n}));\nfunction hoist(module, name) {\n    // If the name is available in the module, return it.\n    if (name in module) {\n        return module[name];\n    }\n    // If a property called `then` exists, assume it's a promise and\n    // return a promise that resolves to the name.\n    if (\"then\" in module && typeof module.then === \"function\") {\n        return module.then((mod)=>hoist(mod, name));\n    }\n    // If we're trying to hoise the default export, and the module is a function,\n    // return the module itself.\n    if (typeof module === \"function\" && name === \"default\") {\n        return module;\n    }\n    // Otherwise, return undefined.\n    return undefined;\n}\n\n//# sourceMappingURL=helpers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9oZWxwZXJzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQWlCO0FBQ2pCLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLHlDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQztBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Rhc2hib2FyZC1tYW5hZ2VtZW50Ly4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1yb3V0ZS1sb2FkZXIvaGVscGVycy5qcz9iZTBlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogSG9pc3RzIGEgbmFtZSBmcm9tIGEgbW9kdWxlIG9yIHByb21pc2VkIG1vZHVsZS5cbiAqXG4gKiBAcGFyYW0gbW9kdWxlIHRoZSBtb2R1bGUgdG8gaG9pc3QgdGhlIG5hbWUgZnJvbVxuICogQHBhcmFtIG5hbWUgdGhlIG5hbWUgdG8gaG9pc3RcbiAqIEByZXR1cm5zIHRoZSB2YWx1ZSBvbiB0aGUgbW9kdWxlIChvciBwcm9taXNlZCBtb2R1bGUpXG4gKi8gXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJob2lzdFwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaG9pc3Q7XG4gICAgfVxufSk7XG5mdW5jdGlvbiBob2lzdChtb2R1bGUsIG5hbWUpIHtcbiAgICAvLyBJZiB0aGUgbmFtZSBpcyBhdmFpbGFibGUgaW4gdGhlIG1vZHVsZSwgcmV0dXJuIGl0LlxuICAgIGlmIChuYW1lIGluIG1vZHVsZSkge1xuICAgICAgICByZXR1cm4gbW9kdWxlW25hbWVdO1xuICAgIH1cbiAgICAvLyBJZiBhIHByb3BlcnR5IGNhbGxlZCBgdGhlbmAgZXhpc3RzLCBhc3N1bWUgaXQncyBhIHByb21pc2UgYW5kXG4gICAgLy8gcmV0dXJuIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBuYW1lLlxuICAgIGlmIChcInRoZW5cIiBpbiBtb2R1bGUgJiYgdHlwZW9mIG1vZHVsZS50aGVuID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIG1vZHVsZS50aGVuKChtb2QpPT5ob2lzdChtb2QsIG5hbWUpKTtcbiAgICB9XG4gICAgLy8gSWYgd2UncmUgdHJ5aW5nIHRvIGhvaXNlIHRoZSBkZWZhdWx0IGV4cG9ydCwgYW5kIHRoZSBtb2R1bGUgaXMgYSBmdW5jdGlvbixcbiAgICAvLyByZXR1cm4gdGhlIG1vZHVsZSBpdHNlbGYuXG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgPT09IFwiZnVuY3Rpb25cIiAmJiBuYW1lID09PSBcImRlZmF1bHRcIikge1xuICAgICAgICByZXR1cm4gbW9kdWxlO1xuICAgIH1cbiAgICAvLyBPdGhlcndpc2UsIHJldHVybiB1bmRlZmluZWQuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGVscGVycy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/helpers.js\n");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Ffiles&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cfiles%5Cindex.ts&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Ffiles&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cfiles%5Cindex.ts&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_webpack_loaders_next_route_loader_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-route-loader/helpers */ \"(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/helpers.js\");\n/* harmony import */ var _src_pages_api_files_index_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src\\pages\\api\\files\\index.ts */ \"(api)/./src/pages/api/files/index.ts\");\n// @ts-ignore this need to be imported from next/dist to be external\n\n\n\nconst PagesAPIRouteModule = next_dist_server_future_route_modules_pages_api_module__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule;\n// Import the userland code.\n// @ts-expect-error - replaced by webpack/turbopack loader\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_route_loader_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_files_index_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_webpack_loaders_next_route_loader_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_files_index_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/files\",\n        pathname: \"/api/files\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_files_index_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmZpbGVzJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGc3JjJTVDcGFnZXMlNUNhcGklNUNmaWxlcyU1Q2luZGV4LnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ2lGO0FBQ2xCO0FBQ21CO0FBQ2xGLDRCQUE0Qix1R0FBMEI7QUFDdEQ7QUFDQTtBQUMrRDtBQUMvRDtBQUNBLGlFQUFlLGdHQUFLLENBQUMsMERBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSxnR0FBSyxDQUFDLDBEQUFRO0FBQ3BDO0FBQ087QUFDUDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL2Rhc2hib2FyZC1tYW5hZ2VtZW50Lz9kOGJjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEB0cy1pZ25vcmUgdGhpcyBuZWVkIHRvIGJlIGltcG9ydGVkIGZyb20gbmV4dC9kaXN0IHRvIGJlIGV4dGVybmFsXG5pbXBvcnQgKiBhcyBtb2R1bGUgZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZVwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1yb3V0ZS1sb2FkZXIvaGVscGVyc1wiO1xuY29uc3QgUGFnZXNBUElSb3V0ZU1vZHVsZSA9IG1vZHVsZS5QYWdlc0FQSVJvdXRlTW9kdWxlO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuLy8gQHRzLWV4cGVjdC1lcnJvciAtIHJlcGxhY2VkIGJ5IHdlYnBhY2svdHVyYm9wYWNrIGxvYWRlclxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vc3JjXFxcXHBhZ2VzXFxcXGFwaVxcXFxmaWxlc1xcXFxpbmRleC50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2ZpbGVzXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZmlsZXNcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Ffiles&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cfiles%5Cindex.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/pages/api/files/index.ts":
/*!**************************************!*\
  !*** ./src/pages/api/files/index.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _services_dropbox__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/services/dropbox */ \"(api)/./src/services/dropbox.ts\");\n/* harmony import */ var _services_mock_dropbox_mock__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/services/mock/dropbox-mock */ \"(api)/./src/services/mock/dropbox-mock.ts\");\n/* harmony import */ var formidable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! formidable */ \"formidable\");\n/* harmony import */ var formidable__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(formidable__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nconst JWT_SECRET = process.env.JWT_SECRET || \"your-secret-key\";\n// Disable body parsing for file uploads\nconst config = {\n    api: {\n        bodyParser: false\n    }\n};\nasync function handler(req, res) {\n    // For demo, we'll skip token validation and use mock service directly\n    const dropboxService = new _services_mock_dropbox_mock__WEBPACK_IMPORTED_MODULE_1__.MockDropboxService();\n    // Handle GET request (list files)\n    if (req.method === \"GET\") {\n        const { category, entityId } = req.query;\n        if (!category || !entityId || typeof category !== \"string\" || typeof entityId !== \"string\") {\n            return res.status(400).json({\n                error: \"Missing category or entityId\"\n            });\n        }\n        if (!Object.values(_services_dropbox__WEBPACK_IMPORTED_MODULE_0__.FileCategory).includes(category)) {\n            return res.status(400).json({\n                error: \"Invalid category\"\n            });\n        }\n        const files = await dropboxService.listFiles(category, entityId);\n        return res.status(200).json({\n            files\n        });\n    }\n    // Handle POST request (upload file)\n    if (req.method === \"POST\") {\n        const form = new (formidable__WEBPACK_IMPORTED_MODULE_2___default().IncomingForm)();\n        form.parse(req, async (err, fields, files)=>{\n            if (err) {\n                return res.status(500).json({\n                    error: \"Failed to parse form data\"\n                });\n            }\n            const uploadedFile = files.file;\n            const category = fields.category;\n            const entityId = fields.entityId;\n            if (!uploadedFile || !category || !entityId || typeof category !== \"string\" || typeof entityId !== \"string\") {\n                return res.status(400).json({\n                    error: \"Missing file, category, or entityId\"\n                });\n            }\n            if (!Object.values(_services_dropbox__WEBPACK_IMPORTED_MODULE_0__.FileCategory).includes(category)) {\n                return res.status(400).json({\n                    error: \"Invalid category\"\n                });\n            }\n            // For demo, we'll create a mock File object\n            const mockFile = {\n                name: uploadedFile.originalFilename || \"file\",\n                size: uploadedFile.size,\n                type: uploadedFile.mimetype || \"application/octet-stream\"\n            };\n            // Upload file to mock Dropbox\n            const metadata = await dropboxService.uploadFile({\n                file: mockFile,\n                category: category,\n                entityId\n            });\n            if (!metadata) {\n                return res.status(500).json({\n                    error: \"Failed to upload file\"\n                });\n            }\n            return res.status(200).json({\n                metadata\n            });\n        });\n        return;\n    }\n    // Method not allowed\n    return res.status(405).json({\n        error: \"Method not allowed\"\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QjtBQUM1RCIsInNvdXJjZXMiOlsid2VicGFjazovL2Rhc2hib2FyZC1tYW5hZ2VtZW50Ly4vc3JjL3BhZ2VzL2FwaS9maWxlcy9pbmRleC50cz82YmJkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xyXG5pbXBvcnQgeyBGaWxlQ2F0ZWdvcnkgfSBmcm9tICdAL3NlcnZpY2VzL2Ryb3Bib3gnO1xyXG5pbXBvcnQgeyBNb2NrRHJvcGJveFNlcnZpY2UgfSBmcm9tICdAL3NlcnZpY2VzL21vY2svZHJvcGJveC1tb2NrJztcclxuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xyXG5pbXBvcnQgZm9ybWlkYWJsZSBmcm9tICdmb3JtaWRhYmxlJztcclxuXHJcbmNvbnN0IEpXVF9TRUNSRVQgPSBwcm9jZXNzLmVudi5KV1RfU0VDUkVUIHx8ICd5b3VyLXNlY3JldC1rZXknO1xyXG5cclxuLy8gRGlzYWJsZSBib2R5IHBhcnNpbmcgZm9yIGZpbGUgdXBsb2Fkc1xyXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xyXG4gIGFwaToge1xyXG4gICAgYm9keVBhcnNlcjogZmFsc2UsXHJcbiAgfSxcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcclxuICAvLyBGb3IgZGVtbywgd2UnbGwgc2tpcCB0b2tlbiB2YWxpZGF0aW9uIGFuZCB1c2UgbW9jayBzZXJ2aWNlIGRpcmVjdGx5XHJcbiAgY29uc3QgZHJvcGJveFNlcnZpY2UgPSBuZXcgTW9ja0Ryb3Bib3hTZXJ2aWNlKCk7XHJcbiAgXHJcbiAgLy8gSGFuZGxlIEdFVCByZXF1ZXN0IChsaXN0IGZpbGVzKVxyXG4gIGlmIChyZXEubWV0aG9kID09PSAnR0VUJykge1xyXG4gICAgY29uc3QgeyBjYXRlZ29yeSwgZW50aXR5SWQgfSA9IHJlcS5xdWVyeTtcclxuICAgIFxyXG4gICAgaWYgKCFjYXRlZ29yeSB8fCAhZW50aXR5SWQgfHwgdHlwZW9mIGNhdGVnb3J5ICE9PSAnc3RyaW5nJyB8fCB0eXBlb2YgZW50aXR5SWQgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnTWlzc2luZyBjYXRlZ29yeSBvciBlbnRpdHlJZCcgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICghT2JqZWN0LnZhbHVlcyhGaWxlQ2F0ZWdvcnkpLmluY2x1ZGVzKGNhdGVnb3J5IGFzIEZpbGVDYXRlZ29yeSkpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIGNhdGVnb3J5JyB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgZmlsZXMgPSBhd2FpdCBkcm9wYm94U2VydmljZS5saXN0RmlsZXMoY2F0ZWdvcnkgYXMgRmlsZUNhdGVnb3J5LCBlbnRpdHlJZCk7XHJcbiAgICBcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IGZpbGVzIH0pO1xyXG4gIH1cclxuICBcclxuICAvLyBIYW5kbGUgUE9TVCByZXF1ZXN0ICh1cGxvYWQgZmlsZSlcclxuICBpZiAocmVxLm1ldGhvZCA9PT0gJ1BPU1QnKSB7XHJcbiAgICBjb25zdCBmb3JtID0gbmV3IGZvcm1pZGFibGUuSW5jb21pbmdGb3JtKCk7XHJcbiAgICBcclxuICAgIGZvcm0ucGFyc2UocmVxLCBhc3luYyAoZXJyLCBmaWVsZHMsIGZpbGVzKSA9PiB7XHJcbiAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byBwYXJzZSBmb3JtIGRhdGEnIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB1cGxvYWRlZEZpbGUgPSBmaWxlcy5maWxlO1xyXG4gICAgICBjb25zdCBjYXRlZ29yeSA9IGZpZWxkcy5jYXRlZ29yeTtcclxuICAgICAgY29uc3QgZW50aXR5SWQgPSBmaWVsZHMuZW50aXR5SWQ7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXVwbG9hZGVkRmlsZSB8fCAhY2F0ZWdvcnkgfHwgIWVudGl0eUlkIHx8IHR5cGVvZiBjYXRlZ29yeSAhPT0gJ3N0cmluZycgfHwgdHlwZW9mIGVudGl0eUlkICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnTWlzc2luZyBmaWxlLCBjYXRlZ29yeSwgb3IgZW50aXR5SWQnIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIU9iamVjdC52YWx1ZXMoRmlsZUNhdGVnb3J5KS5pbmNsdWRlcyhjYXRlZ29yeSBhcyBGaWxlQ2F0ZWdvcnkpKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIGNhdGVnb3J5JyB9KTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gRm9yIGRlbW8sIHdlJ2xsIGNyZWF0ZSBhIG1vY2sgRmlsZSBvYmplY3RcclxuICAgICAgY29uc3QgbW9ja0ZpbGUgPSB7XHJcbiAgICAgICAgbmFtZTogdXBsb2FkZWRGaWxlLm9yaWdpbmFsRmlsZW5hbWUgfHwgJ2ZpbGUnLFxyXG4gICAgICAgIHNpemU6IHVwbG9hZGVkRmlsZS5zaXplLFxyXG4gICAgICAgIHR5cGU6IHVwbG9hZGVkRmlsZS5taW1ldHlwZSB8fCAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJ1xyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgLy8gVXBsb2FkIGZpbGUgdG8gbW9jayBEcm9wYm94XHJcbiAgICAgIGNvbnN0IG1ldGFkYXRhID0gYXdhaXQgZHJvcGJveFNlcnZpY2UudXBsb2FkRmlsZSh7XHJcbiAgICAgICAgZmlsZTogbW9ja0ZpbGUgYXMgYW55LFxyXG4gICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSBhcyBGaWxlQ2F0ZWdvcnksXHJcbiAgICAgICAgZW50aXR5SWRcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIW1ldGFkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gdXBsb2FkIGZpbGUnIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXRhZGF0YSB9KTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG4gIFxyXG4gIC8vIE1ldGhvZCBub3QgYWxsb3dlZFxyXG4gIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IGVycm9yOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KTtcclxufSAiXSwibmFtZXMiOlsiRmlsZUNhdGVnb3J5IiwiTW9ja0Ryb3Bib3hTZXJ2aWNlIiwiZm9ybWlkYWJsZSIsIkpXVF9TRUNSRVQiLCJwcm9jZXNzIiwiZW52IiwiY29uZmlnIiwiYXBpIiwiYm9keVBhcnNlciIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJkcm9wYm94U2VydmljZSIsIm1ldGhvZCIsImNhdGVnb3J5IiwiZW50aXR5SWQiLCJxdWVyeSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsIk9iamVjdCIsInZhbHVlcyIsImluY2x1ZGVzIiwiZmlsZXMiLCJsaXN0RmlsZXMiLCJmb3JtIiwiSW5jb21pbmdGb3JtIiwicGFyc2UiLCJlcnIiLCJmaWVsZHMiLCJ1cGxvYWRlZEZpbGUiLCJmaWxlIiwibW9ja0ZpbGUiLCJuYW1lIiwib3JpZ2luYWxGaWxlbmFtZSIsInNpemUiLCJ0eXBlIiwibWltZXR5cGUiLCJtZXRhZGF0YSIsInVwbG9hZEZpbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/files/index.ts\n");

/***/ }),

/***/ "(api)/./src/services/dropbox.ts":
/*!*********************************!*\
  !*** ./src/services/dropbox.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DropboxService: () => (/* binding */ DropboxService),\n/* harmony export */   FileCategory: () => (/* binding */ FileCategory)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid */ \"uuid\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_1__);\n\n\n// Dropbox API endpoints\nconst DROPBOX_API_BASE = \"https://api.dropboxapi.com/2\";\nconst DROPBOX_CONTENT_API_BASE = \"https://content.dropboxapi.com/2\";\nvar FileCategory;\n(function(FileCategory) {\n    FileCategory[\"WORK_ORDER\"] = \"work_order\";\n    FileCategory[\"VIOLATION\"] = \"violation\";\n    FileCategory[\"ARCHITECTURAL\"] = \"architectural\";\n    FileCategory[\"BOARD_MEETING\"] = \"board_meeting\";\n    FileCategory[\"RESIDENT_REQUEST\"] = \"resident_request\";\n})(FileCategory || (FileCategory = {}));\n// Dropbox service class\nclass DropboxService {\n    constructor(token){\n        this.token = token;\n    }\n    // Get folder path for a specific category and entity\n    getFolderPath(category, entityId, customPath) {\n        if (customPath) {\n            return customPath;\n        }\n        switch(category){\n            case FileCategory.WORK_ORDER:\n                return `/Work_Orders/${entityId}`;\n            case FileCategory.VIOLATION:\n                return `/Violations/${entityId}`;\n            case FileCategory.ARCHITECTURAL:\n                return `/Architectural/${entityId}`;\n            case FileCategory.BOARD_MEETING:\n                return `/Board_Meetings/${entityId}`;\n            case FileCategory.RESIDENT_REQUEST:\n                return `/Resident_Requests/${entityId}`;\n            default:\n                return `/Other/${entityId}`;\n        }\n    }\n    // Create folder if it doesn't exist\n    async createFolderIfNeeded(path) {\n        try {\n            // Check if folder exists\n            try {\n                await axios__WEBPACK_IMPORTED_MODULE_0___default().post(`${DROPBOX_API_BASE}/files/get_metadata`, {\n                    path\n                }, {\n                    headers: {\n                        \"Authorization\": `Bearer ${this.token}`,\n                        \"Content-Type\": \"application/json\"\n                    }\n                });\n                // Folder exists\n                return true;\n            } catch (error) {\n                // Folder doesn't exist, create it\n                await axios__WEBPACK_IMPORTED_MODULE_0___default().post(`${DROPBOX_API_BASE}/files/create_folder_v2`, {\n                    path\n                }, {\n                    headers: {\n                        \"Authorization\": `Bearer ${this.token}`,\n                        \"Content-Type\": \"application/json\"\n                    }\n                });\n                return true;\n            }\n        } catch (error) {\n            console.error(\"Error creating folder:\", error);\n            return false;\n        }\n    }\n    // Upload file to Dropbox\n    async uploadFile(options) {\n        const { file, category, entityId, customPath } = options;\n        try {\n            // Get folder path\n            const folderPath = this.getFolderPath(category, entityId, customPath);\n            // Create folder if needed\n            const folderCreated = await this.createFolderIfNeeded(folderPath);\n            if (!folderCreated) {\n                throw new Error(\"Failed to create folder\");\n            }\n            // Generate unique filename to avoid conflicts\n            const uniquePrefix = (0,uuid__WEBPACK_IMPORTED_MODULE_1__.v4)().substring(0, 8);\n            const fileName = `${uniquePrefix}_${file.name}`;\n            const filePath = `${folderPath}/${fileName}`;\n            // Upload file\n            const formData = new FormData();\n            formData.append(\"file\", file);\n            const uploadResponse = await axios__WEBPACK_IMPORTED_MODULE_0___default().post(`${DROPBOX_CONTENT_API_BASE}/files/upload`, file, {\n                headers: {\n                    \"Authorization\": `Bearer ${this.token}`,\n                    \"Content-Type\": \"application/octet-stream\",\n                    \"Dropbox-API-Arg\": JSON.stringify({\n                        path: filePath,\n                        mode: \"add\",\n                        autorename: true,\n                        mute: false\n                    })\n                }\n            });\n            // Get file metadata\n            const metadata = uploadResponse.data;\n            // Create shared link for preview and download\n            const sharedLinkResponse = await axios__WEBPACK_IMPORTED_MODULE_0___default().post(`${DROPBOX_API_BASE}/sharing/create_shared_link_with_settings`, {\n                path: metadata.path_display,\n                settings: {\n                    requested_visibility: \"public\",\n                    audience: \"public\",\n                    access: \"viewer\"\n                }\n            }, {\n                headers: {\n                    \"Authorization\": `Bearer ${this.token}`,\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n            // Return file metadata with additional info\n            return {\n                ...metadata,\n                category,\n                entityId,\n                previewLink: sharedLinkResponse.data.url.replace(\"?dl=0\", \"?dl=1\"),\n                downloadLink: sharedLinkResponse.data.url.replace(\"?dl=0\", \"?dl=1\")\n            };\n        } catch (error) {\n            console.error(\"Error uploading file:\", error);\n            return null;\n        }\n    }\n    // List files in a folder\n    async listFiles(category, entityId) {\n        try {\n            const folderPath = this.getFolderPath(category, entityId);\n            const response = await axios__WEBPACK_IMPORTED_MODULE_0___default().post(`${DROPBOX_API_BASE}/files/list_folder`, {\n                path: folderPath,\n                recursive: false,\n                include_media_info: true,\n                include_deleted: false,\n                include_has_explicit_shared_members: true\n            }, {\n                headers: {\n                    \"Authorization\": `Bearer ${this.token}`,\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n            const files = response.data.entries.filter((entry)=>entry[\".tag\"] === \"file\");\n            // Get shared links for each file\n            const filesWithLinks = await Promise.all(files.map(async (file)=>{\n                try {\n                    const sharedLinkResponse = await axios__WEBPACK_IMPORTED_MODULE_0___default().post(`${DROPBOX_API_BASE}/sharing/create_shared_link_with_settings`, {\n                        path: file.path_display,\n                        settings: {\n                            requested_visibility: \"public\",\n                            audience: \"public\",\n                            access: \"viewer\"\n                        }\n                    }, {\n                        headers: {\n                            \"Authorization\": `Bearer ${this.token}`,\n                            \"Content-Type\": \"application/json\"\n                        }\n                    });\n                    return {\n                        ...file,\n                        category,\n                        entityId,\n                        previewLink: sharedLinkResponse.data.url,\n                        downloadLink: sharedLinkResponse.data.url.replace(\"?dl=0\", \"?dl=1\")\n                    };\n                } catch (error) {\n                    // If shared link already exists, get existing link\n                    if (axios__WEBPACK_IMPORTED_MODULE_0___default().isAxiosError(error) && error.response?.status === 409) {\n                        try {\n                            const getLinksResponse = await axios__WEBPACK_IMPORTED_MODULE_0___default().post(`${DROPBOX_API_BASE}/sharing/list_shared_links`, {\n                                path: file.path_display,\n                                direct_only: true\n                            }, {\n                                headers: {\n                                    \"Authorization\": `Bearer ${this.token}`,\n                                    \"Content-Type\": \"application/json\"\n                                }\n                            });\n                            const link = getLinksResponse.data.links[0]?.url;\n                            return {\n                                ...file,\n                                category,\n                                entityId,\n                                previewLink: link,\n                                downloadLink: link?.replace(\"?dl=0\", \"?dl=1\")\n                            };\n                        } catch (linkError) {\n                            console.error(\"Error getting existing shared link:\", linkError);\n                            return {\n                                ...file,\n                                category,\n                                entityId\n                            };\n                        }\n                    }\n                    console.error(\"Error creating shared link:\", error);\n                    return {\n                        ...file,\n                        category,\n                        entityId\n                    };\n                }\n            }));\n            return filesWithLinks;\n        } catch (error) {\n            console.error(\"Error listing files:\", error);\n            return [];\n        }\n    }\n    // Download file\n    async downloadFile(filePath) {\n        try {\n            const response = await axios__WEBPACK_IMPORTED_MODULE_0___default().post(`${DROPBOX_CONTENT_API_BASE}/files/download`, null, {\n                headers: {\n                    \"Authorization\": `Bearer ${this.token}`,\n                    \"Dropbox-API-Arg\": JSON.stringify({\n                        path: filePath\n                    })\n                },\n                responseType: \"blob\"\n            });\n            return response.data;\n        } catch (error) {\n            console.error(\"Error downloading file:\", error);\n            return null;\n        }\n    }\n    // Delete file\n    async deleteFile(filePath) {\n        try {\n            await axios__WEBPACK_IMPORTED_MODULE_0___default().post(`${DROPBOX_API_BASE}/files/delete_v2`, {\n                path: filePath\n            }, {\n                headers: {\n                    \"Authorization\": `Bearer ${this.token}`,\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n            return true;\n        } catch (error) {\n            console.error(\"Error deleting file:\", error);\n            return false;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YUFBYTNDLFFBQWdCLEVBQXdCO1FBQ3pELElBQUk7WUFDRixNQUFNdUIsV0FBVyxNQUFNekQsaURBQVUsQ0FDL0IsQ0FBQyxFQUFFSSx5QkFBeUIsZUFBZSxDQUFDLEVBQzVDLE1BQ0E7Z0JBQ0VpQixTQUFTO29CQUNQLGlCQUFpQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUNSLEtBQUssQ0FBQyxDQUFDO29CQUN2QyxtQkFBbUIwQixLQUFLQyxTQUFTLENBQUM7d0JBQUVyQixNQUFNZTtvQkFBUztnQkFDckQ7Z0JBQ0E0QyxjQUFjO1lBQ2hCO1lBR0YsT0FBT3JCLFNBQVNaLElBQUk7UUFDdEIsRUFBRSxPQUFPdkIsT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsMkJBQTJCQTtZQUN6QyxPQUFPO1FBQ1Q7SUFDRjtJQUVBLGNBQWM7SUFDZCxNQUFNeUQsV0FBVzdDLFFBQWdCLEVBQW9CO1FBQ25ELElBQUk7WUFDRixNQUFNbEMsaURBQVUsQ0FDZCxDQUFDLEVBQUVHLGlCQUFpQixnQkFBZ0IsQ0FBQyxFQUNyQztnQkFBRWdCLE1BQU1lO1lBQVMsR0FDakI7Z0JBQ0ViLFNBQVM7b0JBQ1AsaUJBQWlCLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQ1IsS0FBSyxDQUFDLENBQUM7b0JBQ3ZDLGdCQUFnQjtnQkFDbEI7WUFDRjtZQUdGLE9BQU87UUFDVCxFQUFFLE9BQU9TLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLHdCQUF3QkE7WUFDdEMsT0FBTztRQUNUO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rhc2hib2FyZC1tYW5hZ2VtZW50Ly4vc3JjL3NlcnZpY2VzL2Ryb3Bib3gudHM/Y2I1MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcclxuXHJcbi8vIERyb3Bib3ggQVBJIGVuZHBvaW50c1xyXG5jb25zdCBEUk9QQk9YX0FQSV9CQVNFID0gJ2h0dHBzOi8vYXBpLmRyb3Bib3hhcGkuY29tLzInO1xyXG5jb25zdCBEUk9QQk9YX0NPTlRFTlRfQVBJX0JBU0UgPSAnaHR0cHM6Ly9jb250ZW50LmRyb3Bib3hhcGkuY29tLzInO1xyXG5cclxuLy8gRmlsZSB0eXBlcyBhbmQgY2F0ZWdvcmllc1xyXG5leHBvcnQgZW51bSBGaWxlQ2F0ZWdvcnkge1xyXG4gIFdPUktfT1JERVIgPSAnd29ya19vcmRlcicsXHJcbiAgVklPTEFUSU9OID0gJ3Zpb2xhdGlvbicsXHJcbiAgQVJDSElURUNUVVJBTCA9ICdhcmNoaXRlY3R1cmFsJyxcclxuICBCT0FSRF9NRUVUSU5HID0gJ2JvYXJkX21lZXRpbmcnLFxyXG4gIFJFU0lERU5UX1JFUVVFU1QgPSAncmVzaWRlbnRfcmVxdWVzdCdcclxufVxyXG5cclxuLy8gRmlsZSBtZXRhZGF0YSBpbnRlcmZhY2VcclxuZXhwb3J0IGludGVyZmFjZSBGaWxlTWV0YWRhdGEge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIHBhdGhfZGlzcGxheTogc3RyaW5nO1xyXG4gIHNpemU6IG51bWJlcjtcclxuICBjbGllbnRfbW9kaWZpZWQ6IHN0cmluZztcclxuICBzZXJ2ZXJfbW9kaWZpZWQ6IHN0cmluZztcclxuICByZXY6IHN0cmluZztcclxuICBjb250ZW50X2hhc2g/OiBzdHJpbmc7XHJcbiAgY2F0ZWdvcnk6IEZpbGVDYXRlZ29yeTtcclxuICBlbnRpdHlJZDogc3RyaW5nOyAvLyBXb3JrIG9yZGVyIElELCB2aW9sYXRpb24gSUQsIGV0Yy5cclxuICBwcmV2aWV3TGluaz86IHN0cmluZztcclxuICBkb3dubG9hZExpbms/OiBzdHJpbmc7XHJcbn1cclxuXHJcbi8vIFVwbG9hZCBvcHRpb25zIGludGVyZmFjZVxyXG5leHBvcnQgaW50ZXJmYWNlIFVwbG9hZE9wdGlvbnMge1xyXG4gIGZpbGU6IEZpbGU7XHJcbiAgY2F0ZWdvcnk6IEZpbGVDYXRlZ29yeTtcclxuICBlbnRpdHlJZDogc3RyaW5nO1xyXG4gIGN1c3RvbVBhdGg/OiBzdHJpbmc7XHJcbn1cclxuXHJcbi8vIERyb3Bib3ggc2VydmljZSBjbGFzc1xyXG5leHBvcnQgY2xhc3MgRHJvcGJveFNlcnZpY2Uge1xyXG4gIHByaXZhdGUgdG9rZW46IHN0cmluZztcclxuICBcclxuICBjb25zdHJ1Y3Rvcih0b2tlbjogc3RyaW5nKSB7XHJcbiAgICB0aGlzLnRva2VuID0gdG9rZW47XHJcbiAgfVxyXG4gIFxyXG4gIC8vIEdldCBmb2xkZXIgcGF0aCBmb3IgYSBzcGVjaWZpYyBjYXRlZ29yeSBhbmQgZW50aXR5XHJcbiAgcHJpdmF0ZSBnZXRGb2xkZXJQYXRoKGNhdGVnb3J5OiBGaWxlQ2F0ZWdvcnksIGVudGl0eUlkOiBzdHJpbmcsIGN1c3RvbVBhdGg/OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgaWYgKGN1c3RvbVBhdGgpIHtcclxuICAgICAgcmV0dXJuIGN1c3RvbVBhdGg7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHN3aXRjaCAoY2F0ZWdvcnkpIHtcclxuICAgICAgY2FzZSBGaWxlQ2F0ZWdvcnkuV09SS19PUkRFUjpcclxuICAgICAgICByZXR1cm4gYC9Xb3JrX09yZGVycy8ke2VudGl0eUlkfWA7XHJcbiAgICAgIGNhc2UgRmlsZUNhdGVnb3J5LlZJT0xBVElPTjpcclxuICAgICAgICByZXR1cm4gYC9WaW9sYXRpb25zLyR7ZW50aXR5SWR9YDtcclxuICAgICAgY2FzZSBGaWxlQ2F0ZWdvcnkuQVJDSElURUNUVVJBTDpcclxuICAgICAgICByZXR1cm4gYC9BcmNoaXRlY3R1cmFsLyR7ZW50aXR5SWR9YDtcclxuICAgICAgY2FzZSBGaWxlQ2F0ZWdvcnkuQk9BUkRfTUVFVElORzpcclxuICAgICAgICByZXR1cm4gYC9Cb2FyZF9NZWV0aW5ncy8ke2VudGl0eUlkfWA7XHJcbiAgICAgIGNhc2UgRmlsZUNhdGVnb3J5LlJFU0lERU5UX1JFUVVFU1Q6XHJcbiAgICAgICAgcmV0dXJuIGAvUmVzaWRlbnRfUmVxdWVzdHMvJHtlbnRpdHlJZH1gO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiBgL090aGVyLyR7ZW50aXR5SWR9YDtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgLy8gQ3JlYXRlIGZvbGRlciBpZiBpdCBkb2Vzbid0IGV4aXN0XHJcbiAgYXN5bmMgY3JlYXRlRm9sZGVySWZOZWVkZWQocGF0aDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBDaGVjayBpZiBmb2xkZXIgZXhpc3RzXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgYXhpb3MucG9zdChcclxuICAgICAgICAgIGAke0RST1BCT1hfQVBJX0JBU0V9L2ZpbGVzL2dldF9tZXRhZGF0YWAsXHJcbiAgICAgICAgICB7IHBhdGggfSxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3RoaXMudG9rZW59YCxcclxuICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEZvbGRlciBleGlzdHNcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAvLyBGb2xkZXIgZG9lc24ndCBleGlzdCwgY3JlYXRlIGl0XHJcbiAgICAgICAgYXdhaXQgYXhpb3MucG9zdChcclxuICAgICAgICAgIGAke0RST1BCT1hfQVBJX0JBU0V9L2ZpbGVzL2NyZWF0ZV9mb2xkZXJfdjJgLFxyXG4gICAgICAgICAgeyBwYXRoIH0sXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0aGlzLnRva2VufWAsXHJcbiAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgZm9sZGVyOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICAvLyBVcGxvYWQgZmlsZSB0byBEcm9wYm94XHJcbiAgYXN5bmMgdXBsb2FkRmlsZShvcHRpb25zOiBVcGxvYWRPcHRpb25zKTogUHJvbWlzZTxGaWxlTWV0YWRhdGEgfCBudWxsPiB7XHJcbiAgICBjb25zdCB7IGZpbGUsIGNhdGVnb3J5LCBlbnRpdHlJZCwgY3VzdG9tUGF0aCB9ID0gb3B0aW9ucztcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gR2V0IGZvbGRlciBwYXRoXHJcbiAgICAgIGNvbnN0IGZvbGRlclBhdGggPSB0aGlzLmdldEZvbGRlclBhdGgoY2F0ZWdvcnksIGVudGl0eUlkLCBjdXN0b21QYXRoKTtcclxuICAgICAgXHJcbiAgICAgIC8vIENyZWF0ZSBmb2xkZXIgaWYgbmVlZGVkXHJcbiAgICAgIGNvbnN0IGZvbGRlckNyZWF0ZWQgPSBhd2FpdCB0aGlzLmNyZWF0ZUZvbGRlcklmTmVlZGVkKGZvbGRlclBhdGgpO1xyXG4gICAgICBcclxuICAgICAgaWYgKCFmb2xkZXJDcmVhdGVkKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIGZvbGRlcicpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBHZW5lcmF0ZSB1bmlxdWUgZmlsZW5hbWUgdG8gYXZvaWQgY29uZmxpY3RzXHJcbiAgICAgIGNvbnN0IHVuaXF1ZVByZWZpeCA9IHV1aWR2NCgpLnN1YnN0cmluZygwLCA4KTtcclxuICAgICAgY29uc3QgZmlsZU5hbWUgPSBgJHt1bmlxdWVQcmVmaXh9XyR7ZmlsZS5uYW1lfWA7XHJcbiAgICAgIGNvbnN0IGZpbGVQYXRoID0gYCR7Zm9sZGVyUGF0aH0vJHtmaWxlTmFtZX1gO1xyXG4gICAgICBcclxuICAgICAgLy8gVXBsb2FkIGZpbGVcclxuICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgZmlsZSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB1cGxvYWRSZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoXHJcbiAgICAgICAgYCR7RFJPUEJPWF9DT05URU5UX0FQSV9CQVNFfS9maWxlcy91cGxvYWRgLFxyXG4gICAgICAgIGZpbGUsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0aGlzLnRva2VufWAsXHJcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJyxcclxuICAgICAgICAgICAgJ0Ryb3Bib3gtQVBJLUFyZyc6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICBwYXRoOiBmaWxlUGF0aCxcclxuICAgICAgICAgICAgICBtb2RlOiAnYWRkJyxcclxuICAgICAgICAgICAgICBhdXRvcmVuYW1lOiB0cnVlLFxyXG4gICAgICAgICAgICAgIG11dGU6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgICBcclxuICAgICAgLy8gR2V0IGZpbGUgbWV0YWRhdGFcclxuICAgICAgY29uc3QgbWV0YWRhdGEgPSB1cGxvYWRSZXNwb25zZS5kYXRhO1xyXG4gICAgICBcclxuICAgICAgLy8gQ3JlYXRlIHNoYXJlZCBsaW5rIGZvciBwcmV2aWV3IGFuZCBkb3dubG9hZFxyXG4gICAgICBjb25zdCBzaGFyZWRMaW5rUmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KFxyXG4gICAgICAgIGAke0RST1BCT1hfQVBJX0JBU0V9L3NoYXJpbmcvY3JlYXRlX3NoYXJlZF9saW5rX3dpdGhfc2V0dGluZ3NgLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHBhdGg6IG1ldGFkYXRhLnBhdGhfZGlzcGxheSxcclxuICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgIHJlcXVlc3RlZF92aXNpYmlsaXR5OiAncHVibGljJyxcclxuICAgICAgICAgICAgYXVkaWVuY2U6ICdwdWJsaWMnLFxyXG4gICAgICAgICAgICBhY2Nlc3M6ICd2aWV3ZXInXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3RoaXMudG9rZW59YCxcclxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFJldHVybiBmaWxlIG1ldGFkYXRhIHdpdGggYWRkaXRpb25hbCBpbmZvXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgLi4ubWV0YWRhdGEsXHJcbiAgICAgICAgY2F0ZWdvcnksXHJcbiAgICAgICAgZW50aXR5SWQsXHJcbiAgICAgICAgcHJldmlld0xpbms6IHNoYXJlZExpbmtSZXNwb25zZS5kYXRhLnVybC5yZXBsYWNlKCc/ZGw9MCcsICc/ZGw9MScpLFxyXG4gICAgICAgIGRvd25sb2FkTGluazogc2hhcmVkTGlua1Jlc3BvbnNlLmRhdGEudXJsLnJlcGxhY2UoJz9kbD0wJywgJz9kbD0xJylcclxuICAgICAgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwbG9hZGluZyBmaWxlOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIC8vIExpc3QgZmlsZXMgaW4gYSBmb2xkZXJcclxuICBhc3luYyBsaXN0RmlsZXMoY2F0ZWdvcnk6IEZpbGVDYXRlZ29yeSwgZW50aXR5SWQ6IHN0cmluZyk6IFByb21pc2U8RmlsZU1ldGFkYXRhW10+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGZvbGRlclBhdGggPSB0aGlzLmdldEZvbGRlclBhdGgoY2F0ZWdvcnksIGVudGl0eUlkKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdChcclxuICAgICAgICBgJHtEUk9QQk9YX0FQSV9CQVNFfS9maWxlcy9saXN0X2ZvbGRlcmAsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgcGF0aDogZm9sZGVyUGF0aCxcclxuICAgICAgICAgIHJlY3Vyc2l2ZTogZmFsc2UsXHJcbiAgICAgICAgICBpbmNsdWRlX21lZGlhX2luZm86IHRydWUsXHJcbiAgICAgICAgICBpbmNsdWRlX2RlbGV0ZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgaW5jbHVkZV9oYXNfZXhwbGljaXRfc2hhcmVkX21lbWJlcnM6IHRydWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dGhpcy50b2tlbn1gLFxyXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgZmlsZXMgPSByZXNwb25zZS5kYXRhLmVudHJpZXMuZmlsdGVyKChlbnRyeTogYW55KSA9PiBlbnRyeVsnLnRhZyddID09PSAnZmlsZScpO1xyXG4gICAgICBcclxuICAgICAgLy8gR2V0IHNoYXJlZCBsaW5rcyBmb3IgZWFjaCBmaWxlXHJcbiAgICAgIGNvbnN0IGZpbGVzV2l0aExpbmtzID0gYXdhaXQgUHJvbWlzZS5hbGwoXHJcbiAgICAgICAgZmlsZXMubWFwKGFzeW5jIChmaWxlOiBhbnkpID0+IHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNoYXJlZExpbmtSZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoXHJcbiAgICAgICAgICAgICAgYCR7RFJPUEJPWF9BUElfQkFTRX0vc2hhcmluZy9jcmVhdGVfc2hhcmVkX2xpbmtfd2l0aF9zZXR0aW5nc2AsXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGF0aDogZmlsZS5wYXRoX2Rpc3BsYXksXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICAgICAgICByZXF1ZXN0ZWRfdmlzaWJpbGl0eTogJ3B1YmxpYycsXHJcbiAgICAgICAgICAgICAgICAgIGF1ZGllbmNlOiAncHVibGljJyxcclxuICAgICAgICAgICAgICAgICAgYWNjZXNzOiAndmlld2VyJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0aGlzLnRva2VufWAsXHJcbiAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgIC4uLmZpbGUsXHJcbiAgICAgICAgICAgICAgY2F0ZWdvcnksXHJcbiAgICAgICAgICAgICAgZW50aXR5SWQsXHJcbiAgICAgICAgICAgICAgcHJldmlld0xpbms6IHNoYXJlZExpbmtSZXNwb25zZS5kYXRhLnVybCxcclxuICAgICAgICAgICAgICBkb3dubG9hZExpbms6IHNoYXJlZExpbmtSZXNwb25zZS5kYXRhLnVybC5yZXBsYWNlKCc/ZGw9MCcsICc/ZGw9MScpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAvLyBJZiBzaGFyZWQgbGluayBhbHJlYWR5IGV4aXN0cywgZ2V0IGV4aXN0aW5nIGxpbmtcclxuICAgICAgICAgICAgaWYgKGF4aW9zLmlzQXhpb3NFcnJvcihlcnJvcikgJiYgZXJyb3IucmVzcG9uc2U/LnN0YXR1cyA9PT0gNDA5KSB7XHJcbiAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdldExpbmtzUmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KFxyXG4gICAgICAgICAgICAgICAgICBgJHtEUk9QQk9YX0FQSV9CQVNFfS9zaGFyaW5nL2xpc3Rfc2hhcmVkX2xpbmtzYCxcclxuICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGZpbGUucGF0aF9kaXNwbGF5LFxyXG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdF9vbmx5OiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0aGlzLnRva2VufWAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5rID0gZ2V0TGlua3NSZXNwb25zZS5kYXRhLmxpbmtzWzBdPy51cmw7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgIC4uLmZpbGUsXHJcbiAgICAgICAgICAgICAgICAgIGNhdGVnb3J5LFxyXG4gICAgICAgICAgICAgICAgICBlbnRpdHlJZCxcclxuICAgICAgICAgICAgICAgICAgcHJldmlld0xpbms6IGxpbmssXHJcbiAgICAgICAgICAgICAgICAgIGRvd25sb2FkTGluazogbGluaz8ucmVwbGFjZSgnP2RsPTAnLCAnP2RsPTEnKVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICB9IGNhdGNoIChsaW5rRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgZXhpc3Rpbmcgc2hhcmVkIGxpbms6JywgbGlua0Vycm9yKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgIC4uLmZpbGUsXHJcbiAgICAgICAgICAgICAgICAgIGNhdGVnb3J5LFxyXG4gICAgICAgICAgICAgICAgICBlbnRpdHlJZFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIHNoYXJlZCBsaW5rOicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAuLi5maWxlLFxyXG4gICAgICAgICAgICAgIGNhdGVnb3J5LFxyXG4gICAgICAgICAgICAgIGVudGl0eUlkXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiBmaWxlc1dpdGhMaW5rcztcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxpc3RpbmcgZmlsZXM6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIC8vIERvd25sb2FkIGZpbGVcclxuICBhc3luYyBkb3dubG9hZEZpbGUoZmlsZVBhdGg6IHN0cmluZyk6IFByb21pc2U8QmxvYiB8IG51bGw+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdChcclxuICAgICAgICBgJHtEUk9QQk9YX0NPTlRFTlRfQVBJX0JBU0V9L2ZpbGVzL2Rvd25sb2FkYCxcclxuICAgICAgICBudWxsLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dGhpcy50b2tlbn1gLFxyXG4gICAgICAgICAgICAnRHJvcGJveC1BUEktQXJnJzogSlNPTi5zdHJpbmdpZnkoeyBwYXRoOiBmaWxlUGF0aCB9KVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHJlc3BvbnNlVHlwZTogJ2Jsb2InXHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkb3dubG9hZGluZyBmaWxlOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIC8vIERlbGV0ZSBmaWxlXHJcbiAgYXN5bmMgZGVsZXRlRmlsZShmaWxlUGF0aDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBheGlvcy5wb3N0KFxyXG4gICAgICAgIGAke0RST1BCT1hfQVBJX0JBU0V9L2ZpbGVzL2RlbGV0ZV92MmAsXHJcbiAgICAgICAgeyBwYXRoOiBmaWxlUGF0aCB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dGhpcy50b2tlbn1gLFxyXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBmaWxlOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxufSAiXSwibmFtZXMiOlsiYXhpb3MiLCJ2NCIsInV1aWR2NCIsIkRST1BCT1hfQVBJX0JBU0UiLCJEUk9QQk9YX0NPTlRFTlRfQVBJX0JBU0UiLCJGaWxlQ2F0ZWdvcnkiLCJXT1JLX09SREVSIiwiVklPTEFUSU9OIiwiQVJDSElURUNUVVJBTCIsIkJPQVJEX01FRVRJTkciLCJSRVNJREVOVF9SRVFVRVNUIiwiRHJvcGJveFNlcnZpY2UiLCJjb25zdHJ1Y3RvciIsInRva2VuIiwiZ2V0Rm9sZGVyUGF0aCIsImNhdGVnb3J5IiwiZW50aXR5SWQiLCJjdXN0b21QYXRoIiwiY3JlYXRlRm9sZGVySWZOZWVkZWQiLCJwYXRoIiwicG9zdCIsImhlYWRlcnMiLCJlcnJvciIsImNvbnNvbGUiLCJ1cGxvYWRGaWxlIiwib3B0aW9ucyIsImZpbGUiLCJmb2xkZXJQYXRoIiwiZm9sZGVyQ3JlYXRlZCIsIkVycm9yIiwidW5pcXVlUHJlZml4Iiwic3Vic3RyaW5nIiwiZmlsZU5hbWUiLCJuYW1lIiwiZmlsZVBhdGgiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwidXBsb2FkUmVzcG9uc2UiLCJKU09OIiwic3RyaW5naWZ5IiwibW9kZSIsImF1dG9yZW5hbWUiLCJtdXRlIiwibWV0YWRhdGEiLCJkYXRhIiwic2hhcmVkTGlua1Jlc3BvbnNlIiwicGF0aF9kaXNwbGF5Iiwic2V0dGluZ3MiLCJyZXF1ZXN0ZWRfdmlzaWJpbGl0eSIsImF1ZGllbmNlIiwiYWNjZXNzIiwicHJldmlld0xpbmsiLCJ1cmwiLCJyZXBsYWNlIiwiZG93bmxvYWRMaW5rIiwibGlzdEZpbGVzIiwicmVzcG9uc2UiLCJyZWN1cnNpdmUiLCJpbmNsdWRlX21lZGlhX2luZm8iLCJpbmNsdWRlX2RlbGV0ZWQiLCJpbmNsdWRlX2hhc19leHBsaWNpdF9zaGFyZWRfbWVtYmVycyIsImZpbGVzIiwiZW50cmllcyIsImZpbHRlciIsImVudHJ5IiwiZmlsZXNXaXRoTGlua3MiLCJQcm9taXNlIiwiYWxsIiwibWFwIiwiaXNBeGlvc0Vycm9yIiwic3RhdHVzIiwiZ2V0TGlua3NSZXNwb25zZSIsImRpcmVjdF9vbmx5IiwibGluayIsImxpbmtzIiwibGlua0Vycm9yIiwiZG93bmxvYWRGaWxlIiwicmVzcG9uc2VUeXBlIiwiZGVsZXRlRmlsZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/services/dropbox.ts\n");

/***/ }),

/***/ "(api)/./src/services/mock/dropbox-mock.ts":
/*!*******************************************!*\
  !*** ./src/services/mock/dropbox-mock.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MockDropboxService: () => (/* binding */ MockDropboxService)\n/* harmony export */ });\n/* harmony import */ var _services_dropbox__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/services/dropbox */ \"(api)/./src/services/dropbox.ts\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid */ \"uuid\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_1__);\n\n\n// Mock file data\nconst mockFiles = {\n    \"work_order-123\": [\n        {\n            id: \"1\",\n            name: \"invoice.pdf\",\n            path_display: \"/Work_Orders/123/invoice.pdf\",\n            size: 1024 * 1024 * 2.5,\n            client_modified: new Date(2024, 2, 10).toISOString(),\n            server_modified: new Date(2024, 2, 10).toISOString(),\n            rev: \"abc123\",\n            category: _services_dropbox__WEBPACK_IMPORTED_MODULE_0__.FileCategory.WORK_ORDER,\n            entityId: \"123\",\n            previewLink: \"https://www.example.com/preview/invoice.pdf\",\n            downloadLink: \"https://www.example.com/download/invoice.pdf\"\n        },\n        {\n            id: \"2\",\n            name: \"contract.docx\",\n            path_display: \"/Work_Orders/123/contract.docx\",\n            size: 1024 * 512,\n            client_modified: new Date(2024, 2, 12).toISOString(),\n            server_modified: new Date(2024, 2, 12).toISOString(),\n            rev: \"def456\",\n            category: _services_dropbox__WEBPACK_IMPORTED_MODULE_0__.FileCategory.WORK_ORDER,\n            entityId: \"123\",\n            previewLink: \"https://www.example.com/preview/contract.docx\",\n            downloadLink: \"https://www.example.com/download/contract.docx\"\n        },\n        {\n            id: \"3\",\n            name: \"site_photo.jpg\",\n            path_display: \"/Work_Orders/123/site_photo.jpg\",\n            size: 1024 * 1024 * 3.2,\n            client_modified: new Date(2024, 2, 15).toISOString(),\n            server_modified: new Date(2024, 2, 15).toISOString(),\n            rev: \"ghi789\",\n            category: _services_dropbox__WEBPACK_IMPORTED_MODULE_0__.FileCategory.WORK_ORDER,\n            entityId: \"123\",\n            previewLink: \"https://www.example.com/preview/site_photo.jpg\",\n            downloadLink: \"https://www.example.com/download/site_photo.jpg\"\n        }\n    ],\n    \"violation-456\": [\n        {\n            id: \"4\",\n            name: \"violation_notice.pdf\",\n            path_display: \"/Violations/456/violation_notice.pdf\",\n            size: 1024 * 768,\n            client_modified: new Date(2024, 2, 18).toISOString(),\n            server_modified: new Date(2024, 2, 18).toISOString(),\n            rev: \"jkl012\",\n            category: _services_dropbox__WEBPACK_IMPORTED_MODULE_0__.FileCategory.VIOLATION,\n            entityId: \"456\",\n            previewLink: \"https://www.example.com/preview/violation_notice.pdf\",\n            downloadLink: \"https://www.example.com/download/violation_notice.pdf\"\n        },\n        {\n            id: \"5\",\n            name: \"evidence.jpg\",\n            path_display: \"/Violations/456/evidence.jpg\",\n            size: 1024 * 1024 * 1.8,\n            client_modified: new Date(2024, 2, 18).toISOString(),\n            server_modified: new Date(2024, 2, 18).toISOString(),\n            rev: \"mno345\",\n            category: _services_dropbox__WEBPACK_IMPORTED_MODULE_0__.FileCategory.VIOLATION,\n            entityId: \"456\",\n            previewLink: \"https://www.example.com/preview/evidence.jpg\",\n            downloadLink: \"https://www.example.com/download/evidence.jpg\"\n        }\n    ],\n    \"architectural-789\": [\n        {\n            id: \"6\",\n            name: \"blueprint.pdf\",\n            path_display: \"/Architectural/789/blueprint.pdf\",\n            size: 1024 * 1024 * 5.7,\n            client_modified: new Date(2024, 2, 20).toISOString(),\n            server_modified: new Date(2024, 2, 20).toISOString(),\n            rev: \"pqr678\",\n            category: _services_dropbox__WEBPACK_IMPORTED_MODULE_0__.FileCategory.ARCHITECTURAL,\n            entityId: \"789\",\n            previewLink: \"https://www.example.com/preview/blueprint.pdf\",\n            downloadLink: \"https://www.example.com/download/blueprint.pdf\"\n        }\n    ],\n    \"board_meeting-101\": [\n        {\n            id: \"7\",\n            name: \"meeting_minutes.docx\",\n            path_display: \"/Board_Meetings/101/meeting_minutes.docx\",\n            size: 1024 * 384,\n            client_modified: new Date(2024, 2, 22).toISOString(),\n            server_modified: new Date(2024, 2, 22).toISOString(),\n            rev: \"stu901\",\n            category: _services_dropbox__WEBPACK_IMPORTED_MODULE_0__.FileCategory.BOARD_MEETING,\n            entityId: \"101\",\n            previewLink: \"https://www.example.com/preview/meeting_minutes.docx\",\n            downloadLink: \"https://www.example.com/download/meeting_minutes.docx\"\n        },\n        {\n            id: \"8\",\n            name: \"budget_proposal.xlsx\",\n            path_display: \"/Board_Meetings/101/budget_proposal.xlsx\",\n            size: 1024 * 512,\n            client_modified: new Date(2024, 2, 22).toISOString(),\n            server_modified: new Date(2024, 2, 22).toISOString(),\n            rev: \"vwx234\",\n            category: _services_dropbox__WEBPACK_IMPORTED_MODULE_0__.FileCategory.BOARD_MEETING,\n            entityId: \"101\",\n            previewLink: \"https://www.example.com/preview/budget_proposal.xlsx\",\n            downloadLink: \"https://www.example.com/download/budget_proposal.xlsx\"\n        }\n    ],\n    \"resident_request-202\": [\n        {\n            id: \"9\",\n            name: \"request_form.pdf\",\n            path_display: \"/Resident_Requests/202/request_form.pdf\",\n            size: 1024 * 256,\n            client_modified: new Date(2024, 2, 25).toISOString(),\n            server_modified: new Date(2024, 2, 25).toISOString(),\n            rev: \"yz0567\",\n            category: _services_dropbox__WEBPACK_IMPORTED_MODULE_0__.FileCategory.RESIDENT_REQUEST,\n            entityId: \"202\",\n            previewLink: \"https://www.example.com/preview/request_form.pdf\",\n            downloadLink: \"https://www.example.com/download/request_form.pdf\"\n        }\n    ]\n};\n// Mock Dropbox service\nclass MockDropboxService {\n    // List files for a category and entity\n    async listFiles(category, entityId) {\n        // Simulate API delay\n        await new Promise((resolve)=>setTimeout(resolve, 800));\n        const key = `${category}-${entityId}`;\n        return mockFiles[key] || [];\n    }\n    // Upload file\n    async uploadFile(options) {\n        // Simulate API delay\n        await new Promise((resolve)=>setTimeout(resolve, 1200));\n        const { file, category, entityId } = options;\n        const key = `${category}-${entityId}`;\n        // Create new file metadata\n        const newFile = {\n            id: (0,uuid__WEBPACK_IMPORTED_MODULE_1__.v4)(),\n            name: file.name,\n            path_display: `/${this.getCategoryFolder(category)}/${entityId}/${file.name}`,\n            size: file.size,\n            client_modified: new Date().toISOString(),\n            server_modified: new Date().toISOString(),\n            rev: (0,uuid__WEBPACK_IMPORTED_MODULE_1__.v4)().substring(0, 8),\n            category,\n            entityId,\n            previewLink: `https://www.example.com/preview/${file.name}`,\n            downloadLink: `https://www.example.com/download/${file.name}`\n        };\n        // Add to mock data\n        if (!mockFiles[key]) {\n            mockFiles[key] = [];\n        }\n        mockFiles[key].push(newFile);\n        return newFile;\n    }\n    // Delete file\n    async deleteFile(filePath) {\n        // Simulate API delay\n        await new Promise((resolve)=>setTimeout(resolve, 600));\n        // Find and remove file from mock data\n        for(const key in mockFiles){\n            const index = mockFiles[key].findIndex((file)=>file.path_display === filePath);\n            if (index !== -1) {\n                mockFiles[key].splice(index, 1);\n                return true;\n            }\n        }\n        return false;\n    }\n    // Download file (mock - returns a simple blob)\n    async downloadFile(filePath) {\n        // Simulate API delay\n        await new Promise((resolve)=>setTimeout(resolve, 1000));\n        // Find file in mock data\n        for(const key in mockFiles){\n            const file = mockFiles[key].find((file)=>file.path_display === filePath);\n            if (file) {\n                // Create a mock blob\n                return new Blob([\n                    \"Mock file content\"\n                ], {\n                    type: \"application/octet-stream\"\n                });\n            }\n        }\n        return null;\n    }\n    // Helper to get folder name for category\n    getCategoryFolder(category) {\n        switch(category){\n            case _services_dropbox__WEBPACK_IMPORTED_MODULE_0__.FileCategory.WORK_ORDER:\n                return \"Work_Orders\";\n            case _services_dropbox__WEBPACK_IMPORTED_MODULE_0__.FileCategory.VIOLATION:\n                return \"Violations\";\n            case _services_dropbox__WEBPACK_IMPORTED_MODULE_0__.FileCategory.ARCHITECTURAL:\n                return \"Architectural\";\n            case _services_dropbox__WEBPACK_IMPORTED_MODULE_0__.FileCategory.BOARD_MEETING:\n                return \"Board_Meetings\";\n            case _services_dropbox__WEBPACK_IMPORTED_MODULE_0__.FileCategory.RESIDENT_REQUEST:\n                return \"Resident_Requests\";\n            default:\n                return \"Other\";\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJLENBQUNZLE1BQU0sQ0FBQ0YsT0FBTztnQkFDN0IsT0FBTztZQUNUO1FBQ0Y7UUFFQSxPQUFPO0lBQ1Q7SUFFQSwrQ0FBK0M7SUFDL0MsTUFBTUcsYUFBYUosUUFBZ0IsRUFBd0I7UUFDekQscUJBQXFCO1FBQ3JCLE1BQU0sSUFBSVosUUFBUUMsQ0FBQUEsVUFBV0MsV0FBV0QsU0FBUztRQUVqRCx5QkFBeUI7UUFDekIsSUFBSyxNQUFNRSxPQUFPeEIsVUFBVztZQUMzQixNQUFNMkIsT0FBTzNCLFNBQVMsQ0FBQ3dCLElBQUksQ0FBQ2MsSUFBSSxDQUFDWCxDQUFBQSxPQUFRQSxLQUFLeEIsWUFBWSxLQUFLOEI7WUFFL0QsSUFBSU4sTUFBTTtnQkFDUixxQkFBcUI7Z0JBQ3JCLE9BQU8sSUFBSVksS0FBSztvQkFBQztpQkFBb0IsRUFBRTtvQkFBRUMsTUFBTTtnQkFBMkI7WUFDNUU7UUFDRjtRQUVBLE9BQU87SUFDVDtJQUVBLHlDQUF5QztJQUNqQ1gsa0JBQWtCbkIsUUFBc0IsRUFBVTtRQUN4RCxPQUFRQTtZQUNOLEtBQUtiLDJEQUFZQSxDQUFDYyxVQUFVO2dCQUMxQixPQUFPO1lBQ1QsS0FBS2QsMkRBQVlBLENBQUNrQixTQUFTO2dCQUN6QixPQUFPO1lBQ1QsS0FBS2xCLDJEQUFZQSxDQUFDbUIsYUFBYTtnQkFDN0IsT0FBTztZQUNULEtBQUtuQiwyREFBWUEsQ0FBQ29CLGFBQWE7Z0JBQzdCLE9BQU87WUFDVCxLQUFLcEIsMkRBQVlBLENBQUNxQixnQkFBZ0I7Z0JBQ2hDLE9BQU87WUFDVDtnQkFDRSxPQUFPO1FBQ1g7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGFzaGJvYXJkLW1hbmFnZW1lbnQvLi9zcmMvc2VydmljZXMvbW9jay9kcm9wYm94LW1vY2sudHM/NDYzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGaWxlQ2F0ZWdvcnksIEZpbGVNZXRhZGF0YSwgVXBsb2FkT3B0aW9ucyB9IGZyb20gJ0Avc2VydmljZXMvZHJvcGJveCc7XHJcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnO1xyXG5cclxuLy8gTW9jayBmaWxlIGRhdGFcclxuY29uc3QgbW9ja0ZpbGVzOiBSZWNvcmQ8c3RyaW5nLCBGaWxlTWV0YWRhdGFbXT4gPSB7XHJcbiAgJ3dvcmtfb3JkZXItMTIzJzogW1xyXG4gICAge1xyXG4gICAgICBpZDogJzEnLFxyXG4gICAgICBuYW1lOiAnaW52b2ljZS5wZGYnLFxyXG4gICAgICBwYXRoX2Rpc3BsYXk6ICcvV29ya19PcmRlcnMvMTIzL2ludm9pY2UucGRmJyxcclxuICAgICAgc2l6ZTogMTAyNCAqIDEwMjQgKiAyLjUsIC8vIDIuNSBNQlxyXG4gICAgICBjbGllbnRfbW9kaWZpZWQ6IG5ldyBEYXRlKDIwMjQsIDIsIDEwKS50b0lTT1N0cmluZygpLFxyXG4gICAgICBzZXJ2ZXJfbW9kaWZpZWQ6IG5ldyBEYXRlKDIwMjQsIDIsIDEwKS50b0lTT1N0cmluZygpLFxyXG4gICAgICByZXY6ICdhYmMxMjMnLFxyXG4gICAgICBjYXRlZ29yeTogRmlsZUNhdGVnb3J5LldPUktfT1JERVIsXHJcbiAgICAgIGVudGl0eUlkOiAnMTIzJyxcclxuICAgICAgcHJldmlld0xpbms6ICdodHRwczovL3d3dy5leGFtcGxlLmNvbS9wcmV2aWV3L2ludm9pY2UucGRmJyxcclxuICAgICAgZG93bmxvYWRMaW5rOiAnaHR0cHM6Ly93d3cuZXhhbXBsZS5jb20vZG93bmxvYWQvaW52b2ljZS5wZGYnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBpZDogJzInLFxyXG4gICAgICBuYW1lOiAnY29udHJhY3QuZG9jeCcsXHJcbiAgICAgIHBhdGhfZGlzcGxheTogJy9Xb3JrX09yZGVycy8xMjMvY29udHJhY3QuZG9jeCcsXHJcbiAgICAgIHNpemU6IDEwMjQgKiA1MTIsIC8vIDUxMiBLQlxyXG4gICAgICBjbGllbnRfbW9kaWZpZWQ6IG5ldyBEYXRlKDIwMjQsIDIsIDEyKS50b0lTT1N0cmluZygpLFxyXG4gICAgICBzZXJ2ZXJfbW9kaWZpZWQ6IG5ldyBEYXRlKDIwMjQsIDIsIDEyKS50b0lTT1N0cmluZygpLFxyXG4gICAgICByZXY6ICdkZWY0NTYnLFxyXG4gICAgICBjYXRlZ29yeTogRmlsZUNhdGVnb3J5LldPUktfT1JERVIsXHJcbiAgICAgIGVudGl0eUlkOiAnMTIzJyxcclxuICAgICAgcHJldmlld0xpbms6ICdodHRwczovL3d3dy5leGFtcGxlLmNvbS9wcmV2aWV3L2NvbnRyYWN0LmRvY3gnLFxyXG4gICAgICBkb3dubG9hZExpbms6ICdodHRwczovL3d3dy5leGFtcGxlLmNvbS9kb3dubG9hZC9jb250cmFjdC5kb2N4J1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgaWQ6ICczJyxcclxuICAgICAgbmFtZTogJ3NpdGVfcGhvdG8uanBnJyxcclxuICAgICAgcGF0aF9kaXNwbGF5OiAnL1dvcmtfT3JkZXJzLzEyMy9zaXRlX3Bob3RvLmpwZycsXHJcbiAgICAgIHNpemU6IDEwMjQgKiAxMDI0ICogMy4yLCAvLyAzLjIgTUJcclxuICAgICAgY2xpZW50X21vZGlmaWVkOiBuZXcgRGF0ZSgyMDI0LCAyLCAxNSkudG9JU09TdHJpbmcoKSxcclxuICAgICAgc2VydmVyX21vZGlmaWVkOiBuZXcgRGF0ZSgyMDI0LCAyLCAxNSkudG9JU09TdHJpbmcoKSxcclxuICAgICAgcmV2OiAnZ2hpNzg5JyxcclxuICAgICAgY2F0ZWdvcnk6IEZpbGVDYXRlZ29yeS5XT1JLX09SREVSLFxyXG4gICAgICBlbnRpdHlJZDogJzEyMycsXHJcbiAgICAgIHByZXZpZXdMaW5rOiAnaHR0cHM6Ly93d3cuZXhhbXBsZS5jb20vcHJldmlldy9zaXRlX3Bob3RvLmpwZycsXHJcbiAgICAgIGRvd25sb2FkTGluazogJ2h0dHBzOi8vd3d3LmV4YW1wbGUuY29tL2Rvd25sb2FkL3NpdGVfcGhvdG8uanBnJ1xyXG4gICAgfVxyXG4gIF0sXHJcbiAgJ3Zpb2xhdGlvbi00NTYnOiBbXHJcbiAgICB7XHJcbiAgICAgIGlkOiAnNCcsXHJcbiAgICAgIG5hbWU6ICd2aW9sYXRpb25fbm90aWNlLnBkZicsXHJcbiAgICAgIHBhdGhfZGlzcGxheTogJy9WaW9sYXRpb25zLzQ1Ni92aW9sYXRpb25fbm90aWNlLnBkZicsXHJcbiAgICAgIHNpemU6IDEwMjQgKiA3NjgsIC8vIDc2OCBLQlxyXG4gICAgICBjbGllbnRfbW9kaWZpZWQ6IG5ldyBEYXRlKDIwMjQsIDIsIDE4KS50b0lTT1N0cmluZygpLFxyXG4gICAgICBzZXJ2ZXJfbW9kaWZpZWQ6IG5ldyBEYXRlKDIwMjQsIDIsIDE4KS50b0lTT1N0cmluZygpLFxyXG4gICAgICByZXY6ICdqa2wwMTInLFxyXG4gICAgICBjYXRlZ29yeTogRmlsZUNhdGVnb3J5LlZJT0xBVElPTixcclxuICAgICAgZW50aXR5SWQ6ICc0NTYnLFxyXG4gICAgICBwcmV2aWV3TGluazogJ2h0dHBzOi8vd3d3LmV4YW1wbGUuY29tL3ByZXZpZXcvdmlvbGF0aW9uX25vdGljZS5wZGYnLFxyXG4gICAgICBkb3dubG9hZExpbms6ICdodHRwczovL3d3dy5leGFtcGxlLmNvbS9kb3dubG9hZC92aW9sYXRpb25fbm90aWNlLnBkZidcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIGlkOiAnNScsXHJcbiAgICAgIG5hbWU6ICdldmlkZW5jZS5qcGcnLFxyXG4gICAgICBwYXRoX2Rpc3BsYXk6ICcvVmlvbGF0aW9ucy80NTYvZXZpZGVuY2UuanBnJyxcclxuICAgICAgc2l6ZTogMTAyNCAqIDEwMjQgKiAxLjgsIC8vIDEuOCBNQlxyXG4gICAgICBjbGllbnRfbW9kaWZpZWQ6IG5ldyBEYXRlKDIwMjQsIDIsIDE4KS50b0lTT1N0cmluZygpLFxyXG4gICAgICBzZXJ2ZXJfbW9kaWZpZWQ6IG5ldyBEYXRlKDIwMjQsIDIsIDE4KS50b0lTT1N0cmluZygpLFxyXG4gICAgICByZXY6ICdtbm8zNDUnLFxyXG4gICAgICBjYXRlZ29yeTogRmlsZUNhdGVnb3J5LlZJT0xBVElPTixcclxuICAgICAgZW50aXR5SWQ6ICc0NTYnLFxyXG4gICAgICBwcmV2aWV3TGluazogJ2h0dHBzOi8vd3d3LmV4YW1wbGUuY29tL3ByZXZpZXcvZXZpZGVuY2UuanBnJyxcclxuICAgICAgZG93bmxvYWRMaW5rOiAnaHR0cHM6Ly93d3cuZXhhbXBsZS5jb20vZG93bmxvYWQvZXZpZGVuY2UuanBnJ1xyXG4gICAgfVxyXG4gIF0sXHJcbiAgJ2FyY2hpdGVjdHVyYWwtNzg5JzogW1xyXG4gICAge1xyXG4gICAgICBpZDogJzYnLFxyXG4gICAgICBuYW1lOiAnYmx1ZXByaW50LnBkZicsXHJcbiAgICAgIHBhdGhfZGlzcGxheTogJy9BcmNoaXRlY3R1cmFsLzc4OS9ibHVlcHJpbnQucGRmJyxcclxuICAgICAgc2l6ZTogMTAyNCAqIDEwMjQgKiA1LjcsIC8vIDUuNyBNQlxyXG4gICAgICBjbGllbnRfbW9kaWZpZWQ6IG5ldyBEYXRlKDIwMjQsIDIsIDIwKS50b0lTT1N0cmluZygpLFxyXG4gICAgICBzZXJ2ZXJfbW9kaWZpZWQ6IG5ldyBEYXRlKDIwMjQsIDIsIDIwKS50b0lTT1N0cmluZygpLFxyXG4gICAgICByZXY6ICdwcXI2NzgnLFxyXG4gICAgICBjYXRlZ29yeTogRmlsZUNhdGVnb3J5LkFSQ0hJVEVDVFVSQUwsXHJcbiAgICAgIGVudGl0eUlkOiAnNzg5JyxcclxuICAgICAgcHJldmlld0xpbms6ICdodHRwczovL3d3dy5leGFtcGxlLmNvbS9wcmV2aWV3L2JsdWVwcmludC5wZGYnLFxyXG4gICAgICBkb3dubG9hZExpbms6ICdodHRwczovL3d3dy5leGFtcGxlLmNvbS9kb3dubG9hZC9ibHVlcHJpbnQucGRmJ1xyXG4gICAgfVxyXG4gIF0sXHJcbiAgJ2JvYXJkX21lZXRpbmctMTAxJzogW1xyXG4gICAge1xyXG4gICAgICBpZDogJzcnLFxyXG4gICAgICBuYW1lOiAnbWVldGluZ19taW51dGVzLmRvY3gnLFxyXG4gICAgICBwYXRoX2Rpc3BsYXk6ICcvQm9hcmRfTWVldGluZ3MvMTAxL21lZXRpbmdfbWludXRlcy5kb2N4JyxcclxuICAgICAgc2l6ZTogMTAyNCAqIDM4NCwgLy8gMzg0IEtCXHJcbiAgICAgIGNsaWVudF9tb2RpZmllZDogbmV3IERhdGUoMjAyNCwgMiwgMjIpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIHNlcnZlcl9tb2RpZmllZDogbmV3IERhdGUoMjAyNCwgMiwgMjIpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIHJldjogJ3N0dTkwMScsXHJcbiAgICAgIGNhdGVnb3J5OiBGaWxlQ2F0ZWdvcnkuQk9BUkRfTUVFVElORyxcclxuICAgICAgZW50aXR5SWQ6ICcxMDEnLFxyXG4gICAgICBwcmV2aWV3TGluazogJ2h0dHBzOi8vd3d3LmV4YW1wbGUuY29tL3ByZXZpZXcvbWVldGluZ19taW51dGVzLmRvY3gnLFxyXG4gICAgICBkb3dubG9hZExpbms6ICdodHRwczovL3d3dy5leGFtcGxlLmNvbS9kb3dubG9hZC9tZWV0aW5nX21pbnV0ZXMuZG9jeCdcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIGlkOiAnOCcsXHJcbiAgICAgIG5hbWU6ICdidWRnZXRfcHJvcG9zYWwueGxzeCcsXHJcbiAgICAgIHBhdGhfZGlzcGxheTogJy9Cb2FyZF9NZWV0aW5ncy8xMDEvYnVkZ2V0X3Byb3Bvc2FsLnhsc3gnLFxyXG4gICAgICBzaXplOiAxMDI0ICogNTEyLCAvLyA1MTIgS0JcclxuICAgICAgY2xpZW50X21vZGlmaWVkOiBuZXcgRGF0ZSgyMDI0LCAyLCAyMikudG9JU09TdHJpbmcoKSxcclxuICAgICAgc2VydmVyX21vZGlmaWVkOiBuZXcgRGF0ZSgyMDI0LCAyLCAyMikudG9JU09TdHJpbmcoKSxcclxuICAgICAgcmV2OiAndnd4MjM0JyxcclxuICAgICAgY2F0ZWdvcnk6IEZpbGVDYXRlZ29yeS5CT0FSRF9NRUVUSU5HLFxyXG4gICAgICBlbnRpdHlJZDogJzEwMScsXHJcbiAgICAgIHByZXZpZXdMaW5rOiAnaHR0cHM6Ly93d3cuZXhhbXBsZS5jb20vcHJldmlldy9idWRnZXRfcHJvcG9zYWwueGxzeCcsXHJcbiAgICAgIGRvd25sb2FkTGluazogJ2h0dHBzOi8vd3d3LmV4YW1wbGUuY29tL2Rvd25sb2FkL2J1ZGdldF9wcm9wb3NhbC54bHN4J1xyXG4gICAgfVxyXG4gIF0sXHJcbiAgJ3Jlc2lkZW50X3JlcXVlc3QtMjAyJzogW1xyXG4gICAge1xyXG4gICAgICBpZDogJzknLFxyXG4gICAgICBuYW1lOiAncmVxdWVzdF9mb3JtLnBkZicsXHJcbiAgICAgIHBhdGhfZGlzcGxheTogJy9SZXNpZGVudF9SZXF1ZXN0cy8yMDIvcmVxdWVzdF9mb3JtLnBkZicsXHJcbiAgICAgIHNpemU6IDEwMjQgKiAyNTYsIC8vIDI1NiBLQlxyXG4gICAgICBjbGllbnRfbW9kaWZpZWQ6IG5ldyBEYXRlKDIwMjQsIDIsIDI1KS50b0lTT1N0cmluZygpLFxyXG4gICAgICBzZXJ2ZXJfbW9kaWZpZWQ6IG5ldyBEYXRlKDIwMjQsIDIsIDI1KS50b0lTT1N0cmluZygpLFxyXG4gICAgICByZXY6ICd5ejA1NjcnLFxyXG4gICAgICBjYXRlZ29yeTogRmlsZUNhdGVnb3J5LlJFU0lERU5UX1JFUVVFU1QsXHJcbiAgICAgIGVudGl0eUlkOiAnMjAyJyxcclxuICAgICAgcHJldmlld0xpbms6ICdodHRwczovL3d3dy5leGFtcGxlLmNvbS9wcmV2aWV3L3JlcXVlc3RfZm9ybS5wZGYnLFxyXG4gICAgICBkb3dubG9hZExpbms6ICdodHRwczovL3d3dy5leGFtcGxlLmNvbS9kb3dubG9hZC9yZXF1ZXN0X2Zvcm0ucGRmJ1xyXG4gICAgfVxyXG4gIF1cclxufTtcclxuXHJcbi8vIE1vY2sgRHJvcGJveCBzZXJ2aWNlXHJcbmV4cG9ydCBjbGFzcyBNb2NrRHJvcGJveFNlcnZpY2Uge1xyXG4gIC8vIExpc3QgZmlsZXMgZm9yIGEgY2F0ZWdvcnkgYW5kIGVudGl0eVxyXG4gIGFzeW5jIGxpc3RGaWxlcyhjYXRlZ29yeTogRmlsZUNhdGVnb3J5LCBlbnRpdHlJZDogc3RyaW5nKTogUHJvbWlzZTxGaWxlTWV0YWRhdGFbXT4ge1xyXG4gICAgLy8gU2ltdWxhdGUgQVBJIGRlbGF5XHJcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgODAwKSk7XHJcbiAgICBcclxuICAgIGNvbnN0IGtleSA9IGAke2NhdGVnb3J5fS0ke2VudGl0eUlkfWA7XHJcbiAgICByZXR1cm4gbW9ja0ZpbGVzW2tleV0gfHwgW107XHJcbiAgfVxyXG4gIFxyXG4gIC8vIFVwbG9hZCBmaWxlXHJcbiAgYXN5bmMgdXBsb2FkRmlsZShvcHRpb25zOiBVcGxvYWRPcHRpb25zKTogUHJvbWlzZTxGaWxlTWV0YWRhdGEgfCBudWxsPiB7XHJcbiAgICAvLyBTaW11bGF0ZSBBUEkgZGVsYXlcclxuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMjAwKSk7XHJcbiAgICBcclxuICAgIGNvbnN0IHsgZmlsZSwgY2F0ZWdvcnksIGVudGl0eUlkIH0gPSBvcHRpb25zO1xyXG4gICAgY29uc3Qga2V5ID0gYCR7Y2F0ZWdvcnl9LSR7ZW50aXR5SWR9YDtcclxuICAgIFxyXG4gICAgLy8gQ3JlYXRlIG5ldyBmaWxlIG1ldGFkYXRhXHJcbiAgICBjb25zdCBuZXdGaWxlOiBGaWxlTWV0YWRhdGEgPSB7XHJcbiAgICAgIGlkOiB1dWlkdjQoKSxcclxuICAgICAgbmFtZTogZmlsZS5uYW1lLFxyXG4gICAgICBwYXRoX2Rpc3BsYXk6IGAvJHt0aGlzLmdldENhdGVnb3J5Rm9sZGVyKGNhdGVnb3J5KX0vJHtlbnRpdHlJZH0vJHtmaWxlLm5hbWV9YCxcclxuICAgICAgc2l6ZTogZmlsZS5zaXplLFxyXG4gICAgICBjbGllbnRfbW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgc2VydmVyX21vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIHJldjogdXVpZHY0KCkuc3Vic3RyaW5nKDAsIDgpLFxyXG4gICAgICBjYXRlZ29yeSxcclxuICAgICAgZW50aXR5SWQsXHJcbiAgICAgIHByZXZpZXdMaW5rOiBgaHR0cHM6Ly93d3cuZXhhbXBsZS5jb20vcHJldmlldy8ke2ZpbGUubmFtZX1gLFxyXG4gICAgICBkb3dubG9hZExpbms6IGBodHRwczovL3d3dy5leGFtcGxlLmNvbS9kb3dubG9hZC8ke2ZpbGUubmFtZX1gXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvLyBBZGQgdG8gbW9jayBkYXRhXHJcbiAgICBpZiAoIW1vY2tGaWxlc1trZXldKSB7XHJcbiAgICAgIG1vY2tGaWxlc1trZXldID0gW107XHJcbiAgICB9XHJcbiAgICBcclxuICAgIG1vY2tGaWxlc1trZXldLnB1c2gobmV3RmlsZSk7XHJcbiAgICBcclxuICAgIHJldHVybiBuZXdGaWxlO1xyXG4gIH1cclxuICBcclxuICAvLyBEZWxldGUgZmlsZVxyXG4gIGFzeW5jIGRlbGV0ZUZpbGUoZmlsZVBhdGg6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgLy8gU2ltdWxhdGUgQVBJIGRlbGF5XHJcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNjAwKSk7XHJcbiAgICBcclxuICAgIC8vIEZpbmQgYW5kIHJlbW92ZSBmaWxlIGZyb20gbW9jayBkYXRhXHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBtb2NrRmlsZXMpIHtcclxuICAgICAgY29uc3QgaW5kZXggPSBtb2NrRmlsZXNba2V5XS5maW5kSW5kZXgoZmlsZSA9PiBmaWxlLnBhdGhfZGlzcGxheSA9PT0gZmlsZVBhdGgpO1xyXG4gICAgICBcclxuICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgIG1vY2tGaWxlc1trZXldLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuICBcclxuICAvLyBEb3dubG9hZCBmaWxlIChtb2NrIC0gcmV0dXJucyBhIHNpbXBsZSBibG9iKVxyXG4gIGFzeW5jIGRvd25sb2FkRmlsZShmaWxlUGF0aDogc3RyaW5nKTogUHJvbWlzZTxCbG9iIHwgbnVsbD4ge1xyXG4gICAgLy8gU2ltdWxhdGUgQVBJIGRlbGF5XHJcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCkpO1xyXG4gICAgXHJcbiAgICAvLyBGaW5kIGZpbGUgaW4gbW9jayBkYXRhXHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBtb2NrRmlsZXMpIHtcclxuICAgICAgY29uc3QgZmlsZSA9IG1vY2tGaWxlc1trZXldLmZpbmQoZmlsZSA9PiBmaWxlLnBhdGhfZGlzcGxheSA9PT0gZmlsZVBhdGgpO1xyXG4gICAgICBcclxuICAgICAgaWYgKGZpbGUpIHtcclxuICAgICAgICAvLyBDcmVhdGUgYSBtb2NrIGJsb2JcclxuICAgICAgICByZXR1cm4gbmV3IEJsb2IoWydNb2NrIGZpbGUgY29udGVudCddLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuICBcclxuICAvLyBIZWxwZXIgdG8gZ2V0IGZvbGRlciBuYW1lIGZvciBjYXRlZ29yeVxyXG4gIHByaXZhdGUgZ2V0Q2F0ZWdvcnlGb2xkZXIoY2F0ZWdvcnk6IEZpbGVDYXRlZ29yeSk6IHN0cmluZyB7XHJcbiAgICBzd2l0Y2ggKGNhdGVnb3J5KSB7XHJcbiAgICAgIGNhc2UgRmlsZUNhdGVnb3J5LldPUktfT1JERVI6XHJcbiAgICAgICAgcmV0dXJuICdXb3JrX09yZGVycyc7XHJcbiAgICAgIGNhc2UgRmlsZUNhdGVnb3J5LlZJT0xBVElPTjpcclxuICAgICAgICByZXR1cm4gJ1Zpb2xhdGlvbnMnO1xyXG4gICAgICBjYXNlIEZpbGVDYXRlZ29yeS5BUkNISVRFQ1RVUkFMOlxyXG4gICAgICAgIHJldHVybiAnQXJjaGl0ZWN0dXJhbCc7XHJcbiAgICAgIGNhc2UgRmlsZUNhdGVnb3J5LkJPQVJEX01FRVRJTkc6XHJcbiAgICAgICAgcmV0dXJuICdCb2FyZF9NZWV0aW5ncyc7XHJcbiAgICAgIGNhc2UgRmlsZUNhdGVnb3J5LlJFU0lERU5UX1JFUVVFU1Q6XHJcbiAgICAgICAgcmV0dXJuICdSZXNpZGVudF9SZXF1ZXN0cyc7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuICdPdGhlcic7XHJcbiAgICB9XHJcbiAgfVxyXG59ICJdLCJuYW1lcyI6WyJGaWxlQ2F0ZWdvcnkiLCJ2NCIsInV1aWR2NCIsIm1vY2tGaWxlcyIsImlkIiwibmFtZSIsInBhdGhfZGlzcGxheSIsInNpemUiLCJjbGllbnRfbW9kaWZpZWQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJzZXJ2ZXJfbW9kaWZpZWQiLCJyZXYiLCJjYXRlZ29yeSIsIldPUktfT1JERVIiLCJlbnRpdHlJZCIsInByZXZpZXdMaW5rIiwiZG93bmxvYWRMaW5rIiwiVklPTEFUSU9OIiwiQVJDSElURUNUVVJBTCIsIkJPQVJEX01FRVRJTkciLCJSRVNJREVOVF9SRVFVRVNUIiwiTW9ja0Ryb3Bib3hTZXJ2aWNlIiwibGlzdEZpbGVzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0Iiwia2V5IiwidXBsb2FkRmlsZSIsIm9wdGlvbnMiLCJmaWxlIiwibmV3RmlsZSIsImdldENhdGVnb3J5Rm9sZGVyIiwic3Vic3RyaW5nIiwicHVzaCIsImRlbGV0ZUZpbGUiLCJmaWxlUGF0aCIsImluZGV4IiwiZmluZEluZGV4Iiwic3BsaWNlIiwiZG93bmxvYWRGaWxlIiwiZmluZCIsIkJsb2IiLCJ0eXBlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/services/mock/dropbox-mock.ts\n");

/***/ }),

/***/ "(api)/./node_modules/next/dist/server/future/route-kind.js":
/*!************************************************************!*\
  !*** ./node_modules/next/dist/server/future/route-kind.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nObject.defineProperty(exports, \"RouteKind\", ({\n    enumerable: true,\n    get: function() {\n        return RouteKind;\n    }\n}));\nvar RouteKind;\n(function(RouteKind) {\n    RouteKind[/**\n   * `PAGES` represents all the React pages that are under `pages/`.\n   */ \"PAGES\"] = \"PAGES\";\n    RouteKind[/**\n   * `PAGES_API` represents all the API routes under `pages/api/`.\n   */ \"PAGES_API\"] = \"PAGES_API\";\n    RouteKind[/**\n   * `APP_PAGE` represents all the React pages that are under `app/` with the\n   * filename of `page.{j,t}s{,x}`.\n   */ \"APP_PAGE\"] = \"APP_PAGE\";\n    RouteKind[/**\n   * `APP_ROUTE` represents all the API routes and metadata routes that are under `app/` with the\n   * filename of `route.{j,t}s{,x}`.\n   */ \"APP_ROUTE\"] = \"APP_ROUTE\";\n})(RouteKind || (RouteKind = {}));\n\n//# sourceMappingURL=route-kind.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLDZDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQztBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLElBQUksRUFBRSxHQUFHO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixJQUFJLEVBQUUsR0FBRztBQUNsQztBQUNBLENBQUMsOEJBQThCOztBQUUvQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rhc2hib2FyZC1tYW5hZ2VtZW50Ly4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmQuanM/ODdiZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlJvdXRlS2luZFwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gUm91dGVLaW5kO1xuICAgIH1cbn0pO1xudmFyIFJvdXRlS2luZDtcbihmdW5jdGlvbihSb3V0ZUtpbmQpIHtcbiAgICBSb3V0ZUtpbmRbLyoqXG4gICAqIGBQQUdFU2AgcmVwcmVzZW50cyBhbGwgdGhlIFJlYWN0IHBhZ2VzIHRoYXQgYXJlIHVuZGVyIGBwYWdlcy9gLlxuICAgKi8gXCJQQUdFU1wiXSA9IFwiUEFHRVNcIjtcbiAgICBSb3V0ZUtpbmRbLyoqXG4gICAqIGBQQUdFU19BUElgIHJlcHJlc2VudHMgYWxsIHRoZSBBUEkgcm91dGVzIHVuZGVyIGBwYWdlcy9hcGkvYC5cbiAgICovIFwiUEFHRVNfQVBJXCJdID0gXCJQQUdFU19BUElcIjtcbiAgICBSb3V0ZUtpbmRbLyoqXG4gICAqIGBBUFBfUEFHRWAgcmVwcmVzZW50cyBhbGwgdGhlIFJlYWN0IHBhZ2VzIHRoYXQgYXJlIHVuZGVyIGBhcHAvYCB3aXRoIHRoZVxuICAgKiBmaWxlbmFtZSBvZiBgcGFnZS57aix0fXN7LHh9YC5cbiAgICovIFwiQVBQX1BBR0VcIl0gPSBcIkFQUF9QQUdFXCI7XG4gICAgUm91dGVLaW5kWy8qKlxuICAgKiBgQVBQX1JPVVRFYCByZXByZXNlbnRzIGFsbCB0aGUgQVBJIHJvdXRlcyBhbmQgbWV0YWRhdGEgcm91dGVzIHRoYXQgYXJlIHVuZGVyIGBhcHAvYCB3aXRoIHRoZVxuICAgKiBmaWxlbmFtZSBvZiBgcm91dGUue2osdH1zeyx4fWAuXG4gICAqLyBcIkFQUF9ST1VURVwiXSA9IFwiQVBQX1JPVVRFXCI7XG59KShSb3V0ZUtpbmQgfHwgKFJvdXRlS2luZCA9IHt9KSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJvdXRlLWtpbmQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/server/future/route-kind.js\n");

/***/ }),

/***/ "(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.js":
/*!********************************************************************************!*\
  !*** ./node_modules/next/dist/server/future/route-modules/pages-api/module.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n0 && (0);\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    PagesAPIRouteModule: function() {\n        return PagesAPIRouteModule;\n    },\n    default: function() {\n        return _default;\n    }\n});\nconst _routemodule = __webpack_require__(/*! ../route-module */ \"../route-module?407b\");\nconst _node = __webpack_require__(/*! ../../../api-utils/node */ \"../../../api-utils/node\");\nclass PagesAPIRouteModule extends _routemodule.RouteModule {\n    /**\n   *\n   * @param req the incoming server request\n   * @param res the outgoing server response\n   * @param context the context for the render\n   */ async render(req, res, context) {\n        await (0, _node.apiResolver)(req, res, context.query, this.userland, {\n            ...context.previewProps,\n            revalidate: context.revalidate,\n            trustHostHeader: context.trustHostHeader,\n            allowedRevalidateHeaderKeys: context.allowedRevalidateHeaderKeys,\n            hostname: context.hostname\n        }, context.minimalMode, context.dev, context.page);\n    }\n}\nconst _default = PagesAPIRouteModule;\n\n//# sourceMappingURL=module.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsTUFBTSxDQUdMO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHFCQUFxQixtQkFBTyxDQUFDLDZDQUFpQjtBQUM5QyxjQUFjLG1CQUFPLENBQUMsd0RBQXlCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Rhc2hib2FyZC1tYW5hZ2VtZW50Ly4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5qcz84MjQwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuMCAmJiAobW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgUGFnZXNBUElSb3V0ZU1vZHVsZTogbnVsbCxcbiAgICBkZWZhdWx0OiBudWxsXG59KTtcbmZ1bmN0aW9uIF9leHBvcnQodGFyZ2V0LCBhbGwpIHtcbiAgICBmb3IodmFyIG5hbWUgaW4gYWxsKU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIG5hbWUsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBhbGxbbmFtZV1cbiAgICB9KTtcbn1cbl9leHBvcnQoZXhwb3J0cywge1xuICAgIFBhZ2VzQVBJUm91dGVNb2R1bGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gUGFnZXNBUElSb3V0ZU1vZHVsZTtcbiAgICB9LFxuICAgIGRlZmF1bHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gX2RlZmF1bHQ7XG4gICAgfVxufSk7XG5jb25zdCBfcm91dGVtb2R1bGUgPSByZXF1aXJlKFwiLi4vcm91dGUtbW9kdWxlXCIpO1xuY29uc3QgX25vZGUgPSByZXF1aXJlKFwiLi4vLi4vLi4vYXBpLXV0aWxzL25vZGVcIik7XG5jbGFzcyBQYWdlc0FQSVJvdXRlTW9kdWxlIGV4dGVuZHMgX3JvdXRlbW9kdWxlLlJvdXRlTW9kdWxlIHtcbiAgICAvKipcbiAgICpcbiAgICogQHBhcmFtIHJlcSB0aGUgaW5jb21pbmcgc2VydmVyIHJlcXVlc3RcbiAgICogQHBhcmFtIHJlcyB0aGUgb3V0Z29pbmcgc2VydmVyIHJlc3BvbnNlXG4gICAqIEBwYXJhbSBjb250ZXh0IHRoZSBjb250ZXh0IGZvciB0aGUgcmVuZGVyXG4gICAqLyBhc3luYyByZW5kZXIocmVxLCByZXMsIGNvbnRleHQpIHtcbiAgICAgICAgYXdhaXQgKDAsIF9ub2RlLmFwaVJlc29sdmVyKShyZXEsIHJlcywgY29udGV4dC5xdWVyeSwgdGhpcy51c2VybGFuZCwge1xuICAgICAgICAgICAgLi4uY29udGV4dC5wcmV2aWV3UHJvcHMsXG4gICAgICAgICAgICByZXZhbGlkYXRlOiBjb250ZXh0LnJldmFsaWRhdGUsXG4gICAgICAgICAgICB0cnVzdEhvc3RIZWFkZXI6IGNvbnRleHQudHJ1c3RIb3N0SGVhZGVyLFxuICAgICAgICAgICAgYWxsb3dlZFJldmFsaWRhdGVIZWFkZXJLZXlzOiBjb250ZXh0LmFsbG93ZWRSZXZhbGlkYXRlSGVhZGVyS2V5cyxcbiAgICAgICAgICAgIGhvc3RuYW1lOiBjb250ZXh0Lmhvc3RuYW1lXG4gICAgICAgIH0sIGNvbnRleHQubWluaW1hbE1vZGUsIGNvbnRleHQuZGV2LCBjb250ZXh0LnBhZ2UpO1xuICAgIH1cbn1cbmNvbnN0IF9kZWZhdWx0ID0gUGFnZXNBUElSb3V0ZU1vZHVsZTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW9kdWxlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Ffiles&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cfiles%5Cindex.ts&middlewareConfigBase64=e30%3D!"));
module.exports = __webpack_exports__;

})();